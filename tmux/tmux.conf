#======== Plugins ========#

# List of plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tpope/vim-obsession'
set -g @plugin 'christoomey/vim-tmux-navigator'

# Configure plugins
set -g @resurrect-strategy-nvim 'session'
set -g @resurrect-capture-pane-contents 'on'

# Initialize TMUX plugin manager
run '~/.tmux/plugins/tpm/tpm'

#======== Settings ========#

# scrollback buffer n lines
set -g history-limit 5000

# tell tmux to use 256 colour terminal
set -g default-terminal "screen-256color"

# control automatic window renaming
set-option -g allow-rename off

# enable wm window titles
set -g set-titles on

# vi-style controls for copy mode
setw -g mode-keys vi

# enable mouse selection in copy mode
set -g mouse on

# Set C-a instead of C-b
unbind-key "C-b"
set -g prefix "C-a"
bind "C-a" send-prefix

# Reduce delay for ESC key (for zsh vi-mode)
set -s escape-time 0

# Set base index to 1 for order of numbers on keyboard
set -g base-index 1

#======== Theme ========#
source "/Users/jaredramirez/.tmux.snapshot"

#======== Key bindings ========#

# reload settings
bind-key R source-file ~/.tmux.conf

# detach client
bind-key d detach

# choose a client to detach
bind-key D choose-client

# display visible indicator of each pane
bind-key w display-panes

# Map y and Enter to copy to system clipboard
bind -T copy-mode-vi y send -X copy-pipe-and-cancel "reattach-to-user-namespace pbcopy"
bind -T copy-mode-vi Enter send -X copy-pipe-and-cancel "reattach-to-user-namespace pbcopy"
